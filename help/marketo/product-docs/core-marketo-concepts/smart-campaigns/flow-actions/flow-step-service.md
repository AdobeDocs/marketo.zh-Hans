---
description: 流程步骤服务 — Marketo文档 — 产品文档
title: 流程步骤服务
exl-id: 81367562-8b27-4ec5-8a9b-b02083a2e999
feature: Smart Campaigns
source-git-commit: 431bd258f9a68bbb9df7acf043085578d3d91b1f
workflow-type: tm+mt
source-wordcount: '1220'
ht-degree: 0%

---

# 流程步骤服务 {#flow-step-service}

自助服务流程步骤是用于创作、发布和将Web服务集成到Adobe Marketo Engage Smart Campaigns中的框架和功能集。 本指南面向希望安装和使用已创建和发布的服务的最终Marketo Engage。 有关创作和发布您自己的服务的信息，请参阅 [服务提供商界面的GitHub存储库](https://github.com/adobe/Marketo-SSFS-Service-Provider-Interface){target="_blank"}. A Proof-of-Concept Lookup Table implementation may be found [here](https://github.com/adobe/mkto-flow-lookup){target="_blank"}.

## 入门和管理服务 {#onboarding-and-managing-services}

安装自定义流程步骤需要Marketo中的管理员权限(**管理Webhook** 在1月21日版本中，在3月11日版本中更改)。 除了安装URL之外，服务的所有其他方面可以在完成初始载入后通过从“服务提供商”网格向下钻取到服务详细信息屏幕来编辑。

## 安装URL {#installation-url}

要开始安装，您需要首先获取定义服务的OpenAPI文档的URL。 您的服务提供商应能够为您提供此内容，并且通常具有以结尾的URL `/openapi.json`. 完整的URL类似于 `https://www.example.com/OpenAPI.json`. 获得此URL后，转到管理员部分中的服务提供商菜单。

单击 **下一个** 转到“输入服务身份证明”部分。

![](assets/flow-step-service-1.png)

## 输入服务凭据 {#enter-service-credentials}

要访问正在安装的服务，Marketo必须具有有效的API凭据。 您的服务提供商应向您提供这些凭据。 服务有三种不同的身份验证选项，因此您可能会看到三种不同的凭据提示之一： **API密钥** 只有一个输入字段， **基本身份验证** 它需要用户名和口令，并且可能还需要一个名为“领域”的字段，并且 **OAuth2** 使用 _客户端凭据_ grant ，它需要 _客户端ID_ 和 _客户端密码_.

在保存凭据时，Marketo将尝试调用服务的状态端点以验证凭据是否有效。 如果提供的凭据无效，您将看到指示此内容的错误。

## 入门指南（可选） {#onboarding-guide}

一些服务提供商将包括一个可选的入门指南步骤。 此步骤将包括任何额外说明，以完成特定于该服务的服务载入。

## 字段映射 {#field-mapping}

要接收或返回来自特定潜在客户字段的数据，必须映射该字段。 虽然映射是载入期间的必需步骤，但您以后可能始终会返回来更改映射。 在单独的屏幕中配置了两种类型的映射： **传出字段**，在Marketo调用流步骤时发送到该服务，以及 **传入字段** 这些字段在将数据返回到Marketo时可能从服务接收数据。

>[!NOTE]
>
>通过映射传出字段，您授予Marketo权限，可从该字段传输与关联服务处理的潜在客户相关的数据。 确保您拥有适当的法律地位和授权将此数据传送给服务提供商，因为这些字段可能包含数据隐私、保护和租赁法律所涵盖的个人身份信息。

可以在不中断服务的情况下禁用可选字段映射，但可能不会完全删除或停用所需的映射。

## 服务驱动映射 {#service-driven-mappings}

具有固定输入和输出集的服务（如事件注册流步骤）使用 **服务驱动映射**. 对于此类映射，服务提供商将以API名称的形式提供数据类型和提示。 如果提示与现有潜在客户字段的API名称匹配，则该字段将自动填充到映射部分中。 对于没有匹配提示的字段，您将需要从具有匹配数据类型的字段列表中手动填充映射。 必须填充所需的映射才能完成载入。

![](assets/flow-step-service-2.png)

## 用户驱动映射 {#user-driven-mappings}

没有固定输入和输出集的服务（如日期格式服务）使用 **用户驱动映射**. 这意味着每个传入和传出字段都必须由管理员配置。

![](assets/flow-step-service-3.png)

## 传出字段 {#outgoing-fields}

传出字段是指在智能营销活动中使用该流量步骤时发送到“流量步骤服务”的字段。

## 传入字段 {#incoming-fields}

传入字段是允许流程步骤服务将数据写入其中的字段。

## 配置选项（可选） {#configuration-options}

某些服务具有可选或必需的全局配置选项。 如果需要任何选项，则必须先为所有需要的选项设置一个值，然后再保存或完成载入。 名称为斜体的参数将作为标头发送到调用的服务。

![](assets/flow-step-service-4.png)

## 弃用服务 {#retiring-a-service}

为了在不中断活动使用的情况下促进向服务的新版本或替代版本的过渡，可以从服务提供商菜单中停用服务。 **弃用服务** 从智能营销活动流量调色板中删除相应的流量步骤，以便不能创建新用途。 在大多数情况下，当您选择停用服务时，您应该准备一个替换服务来替换现有服务。

## 服务弃用 {#service-deprecation}

有时，服务提供商需要将流程步骤服务作为软件生命周期的正常部分弃用。 当服务提供商宣布此消息时，将在“服务提供商”网格视图中填充“弃用日期”和“消息”。 如果继续使用已弃用的服务不再以预期的方式做出响应或停止接受来自Marketo Smart Campaigns的请求，则可能会导致服务中断，因此您应该密切注意收到的任何服务弃用通知，并采取适当步骤停用或替换仍在使用的服务中的任何步骤。

## 使用第三方和自定义流程步骤 {#using-third-party-and-custom-flow-steps}

所安装的流动步骤的使用方式大致与标准流动步骤相同。 该服务定义的所有流参数都会呈现给最终用户。

## 刷新选取列表 {#refreshing-picklists}

Marketo每天晚上都会刷新服务的选择列表，但有时您需要新的可用选项，例如营销活动创建。 您可以使用刷新按钮从流程步骤的任何实例中轻松刷新这些内容，或者在选择服务后，转到管理员>服务提供商菜单并单击刷新选择列表。

## 检查传入字段 {#checking-incoming-fields}

您可以将鼠标悬停在其工具提示图标上，以检查为给定流程步骤配置了哪些传入字段。 这用于确定当潜在客户流经它时哪些字段可能会更改，以便您可以使用这些字段在后续步骤中配置选项。

![](assets/flow-step-service-5.png)

## 传入字段和数据值更改 {#incoming-fields-and-data-value-changes}

与大多数其他流程步骤不同，使用SSFS框架实施的步骤可能会将数据写回由管理员映射的潜在客户字段，并将这些更改记录为数据值更改活动。  当流程步骤以这种方式写入数据时，所有这些更改将在Smart Campaign继续任何后续步骤之前完成，以便在后续的流程步骤选择中可以依赖写入的任何数据。

## 服务日志和统计信息 {#service-logs-and-statistics}

每个流步骤服务都有关联多种类型的日志记录，以帮助监测运行状况，并排除与集成相关的任何问题。

## 服务统计信息 {#service-statistics}

服务统计信息日志汇总每个服务的调用和回调结果。 它们按时间、级别（块或记录）和代码分组，并提供计数和每个收到的代码的最新日志消息。 此仪表板主要用于帮助监测服务运行状况。
